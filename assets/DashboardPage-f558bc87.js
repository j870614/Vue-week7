import{_ as v,r as l,o as d,c as h,a as e,b as s,w as c,d as i,e as b,f,g as k}from"./index-24ff0da9.js";let p=null;const g={methods:{logout(){document.cookie="token=; expires=;",p.fire({icon:"success",title:"已登出"}),this.$router.push("/")}},mounted(){p=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",this.$swal.stopTimer),t.addEventListener("mouseleave",this.$swal.resumeTimer)}})}},$={class:"navbar navbar-expand-lg navbar-dark bg-dark"},x={class:"container-fluid"},N=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),w={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},B={class:"navbar-nav"};function C(t,o,_,m,u,n){const a=l("RouterLink");return d(),h("nav",$,[e("div",x,[s(a,{to:"/admin/products",class:"navbar-brand"},{default:c(()=>[i("管理後台")]),_:1}),N,e("div",w,[e("div",B,[s(a,{to:"/admin/products",class:"nav-link"},{default:c(()=>[i("產品")]),_:1}),s(a,{to:"/admin/orders",class:"nav-link"},{default:c(()=>[i("訂單")]),_:1}),e("a",{class:"nav-link",href:"#",onClick:o[0]||(o[0]=b((...r)=>n.logout&&n.logout(...r),["prevent"]))},"登出")])])])])}const L=v(g,[["render",C]]),T={components:{Navbar:L},data(){return{status:!1}},mounted(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)token\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t,this.$http.defaults.baseURL="https://vue3-course-api.hexschool.io/v2",this.$http.post("/api/user/check").then(()=>{this.status=!0}).catch(()=>{this.$router.push("/")})}};function A(t,o,_,m,u,n){const a=l("Navbar"),r=l("router-view");return d(),h("div",null,[s(a),u.status?(d(),f(r,{key:0})):k("",!0)])}const V=v(T,[["render",A]]);export{V as default};
