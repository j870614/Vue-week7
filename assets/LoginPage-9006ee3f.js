import{_ as h,r,o as v,c as b,a as e,b as t,w,n as p}from"./index-24ff0da9.js";const g="https://vue3-course-api.hexschool.io/v2";let l=null;const x={data(){return{user:{username:"",password:""}}},methods:{login(){this.$http.post(`${g}/admin/signin`,this.user).then(s=>{const{message:o,token:i,expired:d}=s.data;document.cookie=`token=${i}; expires=${new Date(d)};`,l.fire({icon:"success",title:`${o}`}),this.$router.push("/admin/products")}).catch(s=>{l.fire({icon:"error",title:`${s.response.data.message}`})})}},mounted(){l=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:s=>{s.addEventListener("mouseenter",this.$swal.stopTimer),s.addEventListener("mouseleave",this.$swal.resumeTimer)}})}},$={class:"container"},V=e("h1",{class:"text-center"},"登入",-1),k={class:"row justify-content-center"},y={class:"mb-3"},B=e("label",{for:"email",class:"form-label"},"Email",-1),E={class:"mb-3"},C=e("label",{for:"password",class:"form-label"},"密碼",-1),L=e("div",{class:"text-end"},[e("button",{type:"submit",class:"btn btn-lg btn-primary"},"登入")],-1);function T(s,o,i,d,a,_){const m=r("v-field"),c=r("error-message"),f=r("v-form");return v(),b("div",$,[V,e("div",k,[t(f,{ref:"form",class:"col-md-6",onSubmit:_.login},{default:w(({errors:u})=>[e("div",y,[B,t(m,{id:"email",name:"email",type:"email",class:p(["form-control",{"is-invalid":u.email}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:a.user.username,"onUpdate:modelValue":o[0]||(o[0]=n=>a.user.username=n)},null,8,["class","modelValue"]),t(c,{name:"email",class:"invalid-feedback"})]),e("div",E,[C,t(m,{id:"password",name:"密碼",type:"password",class:p(["form-control",{"is-invalid":u.密碼}]),placeholder:"請輸入密碼",rules:"required",modelValue:a.user.password,"onUpdate:modelValue":o[1]||(o[1]=n=>a.user.password=n)},null,8,["class","modelValue"]),t(c,{name:"密碼",class:"invalid-feedback"})]),L]),_:1},8,["onSubmit"])])])}const N=h(x,[["render",T]]);export{N as default};
